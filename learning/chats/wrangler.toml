# The name of your Worker
name = "chats"

# The main entry point for your Worker
main = "src/worker.js"

# A recent compatibility date
compatibility_date = "2024-03-01"

# --- Durable Object Binding ---
[[durable_objects.bindings]]
name = "CHAT_ROOM_DO"
# Point to the NEW class name
class_name = "HibernatingChatRoom" 

# --- R2 Storage Bucket Binding ---
[[r2_buckets]]
binding = "R2_BUCKET"
bucket_name = "yuangs"

[[migrations]]
tag = "v1"
new_classes = ["ChatRoom"]
renamed_classes = [
  { from = "ChatRoomV2", to = "ChatRoom" }
]