<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
  <!-- 强 CSP，允许内联脚本与样式（已含 'unsafe-inline' 'unsafe-eval'），并允许使用文中提供的图片域名 -->
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; img-src 'self' data: blob: https://wikimedia.org https://upload.wikimedia.org https://images.unsplash.com https://picsum.photos; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
  <title>爱达·魔都号｜登船日时间轴与携带清单（上海吴淞口国际邮轮港）</title>
  <style>
    :root{
      --bg:#0f172a;        /* 深色背景（夜蓝） */
      --bg-2:#111827;
      --card:#0b1220;
      --elev:#0f1424;
      --ink:#e5e7eb;       /* 文字浅灰 */
      --muted:#9ca3af;
      --brand:#60a5fa;     /* 品牌蓝 */
      --brand-2:#22d3ee;   /* 品牌青 */
      --ok:#22c55e;
      --warn:#f59e0b;
      --danger:#f87171;
      --chip:#12223d;
      --line:#1f2a44;
      --shadow:0 10px 30px rgba(0,0,0,.25);
      --radius:16px;
    }
    [data-theme="light"]{
      --bg:#f6f7fb;
      --bg-2:#eef2ff;
      --card:#ffffff;
      --elev:#ffffff;
      --ink:#111827;
      --muted:#6b7280;
      --brand:#2563eb;
      --brand-2:#0ea5e9;
      --ok:#16a34a;
      --warn:#f59e0b;
      --danger:#dc2626;
      --chip:#eef2ff;
      --line:#e5e7eb;
      --shadow:0 12px 28px rgba(2,6,23,.08);
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji"}
    img{max-width:100%;height:auto;display:block}
    a{color:var(--brand);text-decoration:none}
    .wrap{max-width:1120px;margin:0 auto;padding:0 16px}

    /* 顶部英雄区 */
    .hero{
      position:relative;
      background: radial-gradient(1200px 600px at 20% 0, rgba(96,165,250,.3), transparent 60%),
                  radial-gradient(1000px 600px at 80% 10%, rgba(34,211,238,.25), transparent 60%),
                  linear-gradient(180deg, #0b1220, var(--bg));
      overflow:hidden;
      border-bottom:1px solid var(--line);
    }
    .hero::after{
      content:"";
      position:absolute;inset:0;
      background:url('https://upload.wikimedia.org/wikipedia/commons/e/ec/Adora_Magic_City_-_Shanghai_Wusongkou_International_Cruise_Terminal_-_2024.01.01.jpg') center/cover no-repeat;
      opacity:.15; filter:grayscale(20%) contrast(110%);
    }
    .hero-inner{position:relative;z-index:1;padding:28px 0 18px 0}
    .topbar{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap}
    .brand{
      display:flex;align-items:center;gap:12px
    }
    .logo{
      width:42px;height:42px;border-radius:12px;
      background: conic-gradient(from 220deg,#60a5fa,#22d3ee,#60a5fa);
      box-shadow: var(--shadow); position:relative; overflow:hidden;
    }
    .logo svg{width:100%;height:100%;padding:8px; color:#0b1220}
    h1{font-size:22px;margin:0;line-height:1.25}
    .subtitle{color:var(--muted);font-size:14px;margin-top:4px}

    .controls{display:flex;flex-wrap:wrap;gap:8px;align-items:center}
    .btn{
      appearance:none;border:1px solid var(--line);background:linear-gradient(180deg,var(--elev),var(--card));color:var(--ink);
      padding:10px 12px;border-radius:12px;font-size:14px;cursor:pointer;box-shadow:var(--shadow);transition:.2s;
    }
    .btn:hover{transform:translateY(-1px);box-shadow:0 14px 32px rgba(2,6,23,.18)}
    .btn:active{transform:translateY(0)}
    .btn.brand{background:linear-gradient(180deg,rgba(96,165,250,.9),rgba(34,211,238,.9));border-color:transparent;color:#0b1220;font-weight:700}
    .btn.ghost{background:linear-gradient(180deg,var(--card),var(--elev))}
    .btn.warn{border-color:var(--warn);color:var(--warn);background:var(--card)}
    .btn.icon{display:inline-flex;align-items:center;gap:8px}

    .toolbar{
      display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:16px
    }
    .toolbar .field{
      display:flex;flex-direction:column;gap:6px;font-size:12px;color:var(--muted)
    }
    .toolbar input[type="search"], .toolbar select, .toolbar input[type="date"], .toolbar input[type="time"]{
      padding:10px 12px;border:1px solid var(--line);border-radius:12px;background:var(--card);font-size:14px;min-width:140px;color:var(--ink)
    }
    .chip-row{display:flex;flex-wrap:wrap;gap:8px;margin-top:12px}
    .chip{
      padding:6px 10px;border:1px solid var(--line);border-radius:999px;background:var(--chip);color:var(--ink);font-size:12px;cursor:pointer;transition:.2s
    }
    .chip.active{border-color:var(--brand);box-shadow:0 0 0 3px rgba(96,165,250,.2)}

    .progress{
      display:flex;align-items:center;gap:10px;margin-top:14px
    }
    .bar{flex:1;height:10px;background:rgba(96,165,250,.15);border-radius:999px;overflow:hidden;border:1px solid var(--line)}
    .bar > span{display:block;height:100%;background:linear-gradient(90deg,var(--brand),#22c55e);width:0%}
    .progtext{color:var(--muted);font-size:13px}

    /* 导航锚点 */
    .anchors{
      display:flex;gap:8px;flex-wrap:wrap;margin-top:14px
    }
    .anchor{
      padding:8px 10px;border:1px solid var(--line);border-radius:10px;background:linear-gradient(180deg,var(--card),var(--elev));font-size:13px;color:var(--ink)
    }

    /* 内容布局 */
    main{position:relative;z-index:1;padding:18px 0 28px 0}
    .grid{
      display:grid;gap:16px;margin:16px 0;grid-template-columns:1fr
    }
    @media (min-width:900px){ .grid{grid-template-columns:1.3fr .7fr} }

    .card{
      background:linear-gradient(180deg,var(--card),var(--elev));
      border:1px solid var(--line);border-radius:var(--radius);padding:16px;box-shadow:var(--shadow)
    }
    .section{
      background:linear-gradient(180deg,var(--card),var(--elev));
      border:1px solid var(--line);border-radius:var(--radius);padding:16px;box-shadow:var(--shadow);margin-bottom:16px;
    }
    .section h2{
      font-size:18px;margin:0 0 12px 0;display:flex;align-items:center;gap:10px;color:var(--brand)
    }
    .section h3{font-size:16px;color:var(--ink);margin:14px 0 8px 0}
    .section p, .section ul, .section ol{margin-bottom:10px}
    .section ul, .section ol{padding-left:20px}
    .section li{margin-bottom:6px}
    .highlight-text{ color:var(--danger); font-weight:700}
    .info-text{ color:var(--ok); font-weight:700}
    .image-container{ position:relative; border-radius:14px; overflow:hidden; border:1px solid var(--line); margin:12px 0; }
    .image-container img{ width:100%; height:auto; display:block; }
    .image-overlay{
      position:absolute;inset:auto 12px 12px 12px;background:rgba(2,6,23,.55);
      color:#fff;border:1px solid rgba(255,255,255,.18);backdrop-filter:blur(6px);
      padding:8px 10px;border-radius:10px;font-size:12px
    }

    /* 时间轴 */
    .timeline{display:flex;flex-direction:column;gap:10px}
    .tl-item{background:linear-gradient(180deg,var(--card),var(--elev));border:1px solid var(--line);border-radius:12px;padding:12px}
    .tl-row{display:flex;justify-content:space-between;gap:8px;flex-wrap:wrap}
    .tl-time{
      font-weight:700; color:#0b1220; background:linear-gradient(180deg,#93c5fd,#a7f3d0);
      padding:4px 8px;border-radius:8px;border:1px solid rgba(0,0,0,.08)
    }
    [data-theme="light"] .tl-time{ color:#0b1220 }
    [data-theme="dark"] .tl-time{ color:#0b1220 }
    .tl-meta{font-size:12px;color:var(--muted);margin-top:6px}

    /* 清单 */
    .tools{display:flex;flex-wrap:wrap;gap:8px;margin:10px 0 6px}
    .tools .btn{padding:6px 10px;font-size:13px}
    .list{display:grid;grid-template-columns:1fr;gap:8px}
    @media (min-width:640px){ .list{grid-template-columns:1fr 1fr} }
    .item{
      display:flex;gap:10px;align-items:flex-start;padding:10px;border:1px dashed var(--line);border-radius:12px;background:linear-gradient(180deg,var(--card),var(--elev));
      transition:.2s
    }
    .item:hover{border-color:rgba(96,165,250,.6);box-shadow:0 8px 22px rgba(2,6,23,.16)}
    .item input[type="checkbox"]{width:18px;height:18px;margin-top:2px}
    .name{flex:1}
    .notes{font-size:12px;color:var(--muted);margin-top:4px}
    .chips{display:flex;gap:6px;flex-wrap:wrap;margin-top:6px}
    .tag{
      display:inline-flex;align-items:center;gap:6px;
      padding:2px 8px;border-radius:999px;background:var(--chip);color:var(--brand);
      font-size:12px;border:1px solid rgba(96,165,250,.35)
    }
    .tag.s{color:var(--ok);background:rgba(34,197,94,.1);border-color:rgba(34,197,94,.3)}
    .tag.t{color:#0ea5e9;background:rgba(14,165,233,.08);border-color:rgba(14,165,233,.3)}
    .tag.opt{color:#6d28d9;background:rgba(109,40,217,.08);border-color:rgba(109,40,217,.3)}
    .tag.child{color:#d97706;background:rgba(217,119,6,.08);border-color:rgba(217,119,6,.3)}

    /* 侧栏卡片 */
    .side-card{position:sticky;top:84px}
    .stat{
      display:flex;align-items:center;justify-content:space-between;padding:10px 12px;background:linear-gradient(180deg,var(--card),var(--elev));
      border:1px solid var(--line);border-radius:12px;margin-bottom:10px
    }

    /* 页脚与打印 */
    footer{color:var(--muted);text-align:center;padding:24px 0}
    @media print{
      .hero, .no-print{display:none!important}
      .wrap{padding:0}
      body{background:#fff}
      .card,.section{break-inside:avoid}
      .item{border-color:#ddd}
    }

    /* 浮动按钮 */
    .fab{
      position:fixed;right:16px;bottom:16px;z-index:50;
      display:flex;flex-direction:column;gap:10px
    }
    .fab .btn{border-radius:999px;padding:10px 12px}
  </style>
</head>

<body data-theme="dark">
  <header class="hero no-print">
    <div class="wrap hero-inner">
      <div class="topbar">
        <div class="brand">
          <div class="logo" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="none">
              <path d="M3 14c4-1 7-1 9 0s5 1 9 0v3c-4 1-7 1-9 0s-5-1-9 0v-3Z" fill="currentColor" opacity=".35"></path>
              <path d="M4 10h4l2-3h3l3 5h4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path>
            </svg>
          </div>
          <div>
            <h1>爱达·魔都号｜登船日时间轴与携带清单</h1>
            <div class="subtitle">出发口岸：上海吴淞口国际邮轮港（宝杨路1号）</div>
          </div>
        </div>
        <div class="controls">
          <button class="btn brand icon" id="printBtn" title="打印或导出PDF">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M6 9V3h12v6H6Zm0 12v-5h12v5H6ZM4 17H3v-6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v6h-1"></path></svg>
            打印/导出
          </button>
          <button class="btn ghost icon" id="clearAll" title="清空所有勾选">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M16 9v10H8V9h8Zm-1-5H9l-1 2H5v2h14V6h-3l-1-2Z"></path></svg>
            清空勾选
          </button>
          <button class="btn ghost icon" id="saveToggle" title="切换自动保存">已开启自动保存</button>
          <button class="btn ghost icon" id="themeToggle" title="切换明暗主题">
            <svg id="themeIcon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79Z"></path></svg>
            明暗切换
          </button>
        </div>
      </div>

      <div class="toolbar">
        <label class="field">报到日期
          <input id="dateInput" type="date" value="2025-08-22">
        </label>
        <label class="field">报到开始时间
          <input id="timeInput" type="time" value="13:00">
        </label>
        <button class="btn" id="applyTime">更新时间轴</button>
        <label class="field" style="flex:1;min-width:220px">搜索
          <input id="search" type="search" placeholder="搜索物品（如 护照 / 充电 / 晕船）">
        </label>
        <label class="field">筛选
          <select id="filter">
            <option value="all">全部物品</option>
            <option value="carry">只看“随身优先”</option>
            <option value="checkin">只看“适合托运”</option>
            <option value="child">只看“儿童”</option>
            <option value="optional">只看“可选”</option>
          </select>
        </label>
      </div>
      <div class="chip-row">
        <span class="chip active" data-filter="all">全部</span>
        <span class="chip" data-filter="carry">随身</span>
        <span class="chip" data-filter="checkin">托运</span>
        <span class="chip" data-filter="child">儿童</span>
        <span class="chip" data-filter="optional">可选</span>
      </div>

      <div class="progress">
        <div class="bar"><span id="barFill"></span></div>
        <div class="progtext" id="progText">0 / 0</div>
      </div>

      <div class="anchors">
        <a class="anchor" href="#guide">出行指南</a>
        <a class="anchor" href="#timeline">时间轴</a>
        <a class="anchor" href="#checklist">携带清单</a>
        <a class="anchor" href="#rules">禁带物品</a>
        <a class="anchor" href="#life">船上攻略</a>
        <a class="anchor" href="#shore">岸上观光</a>
        <a class="anchor" href="#tournament">小棋王赛事</a>
        <a class="anchor" href="#disembark">离船准备</a>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div class="grid">
      <div>
        <section class="section" id="guide">
          <h2>欢迎登船！爱达·魔都号出行指南</h2>
          <div class="image-container">
            <img src="https://upload.wikimedia.org/wikipedia/commons/e/ec/Adora_Magic_City_-_Shanghai_Wusongkou_International_Cruise_Terminal_-_2024.01.01.jpg" alt="爱达·魔都号邮轮">
            <div class="image-overlay">爱达·魔都号，准备扬帆起航！5天4晚：上海 → 济州 → 福冈 → 上海</div>
          </div>
          <p>这趟旅程我们将从上海吴淞口国际邮轮港出发，途经济州与福冈。部分团友将参加第二届小棋王邮轮赛，既要玩得尽兴，也要准时参赛。</p>
          <h3>航次关键信息</h3>
          <ul>
            <li><strong>邮轮名称</strong>：ADORA MAGIC CITY（爱达·魔都号）</li>
            <li><strong>航线</strong>：上海 — 济州 — 福冈 — 上海</li>
            <li><strong>航期</strong>：5天4晚</li>
            <li><strong>登船日期</strong>：<span class="info-text">2025年8月22日</span></li>
            <li><strong>报到时间</strong>：<span class="info-text">当日13:00–13:30</span>，<span class="highlight-text">最晚15:00前</span>完成手续</li>
            <li><strong>登船地点</strong>：上海吴淞口国际邮轮港（宝山区宝杨路1号）</li>
            <li><strong>团队联系</strong>：围棋协会领队：陈天惠 15000979788；旅行社领队：张玮 13601788316</li>
          </ul>
          <p class="notes">所有时间以船方当天通知为准，登船后请留意信息宝小程序及邮轮日报。</p>
        </section>

        <section class="section" id="timeline">
          <h2>登船日时间轴（按你的报到时段自动换算）</h2>
          <p>以下时间轴会根据你设置的报到时间以及预计开航时间自动计算具体时刻，便于把握节奏。</p>
          <div class="timeline" id="timelineList"></div>
          <div class="notes">提示：安全演习一般在开航前不久，必须参加；请按船卡或广播指引前往集合点。</div>
        </section>

        <section class="section" id="checklist">
          <h2>携带清单（可勾选并自动保存）</h2>
          <div id="sections"></div>
        </section>

        <section class="section" id="rules">
          <h2>禁带/慎带物品清单</h2>
          <p class="highlight-text">充电宝必须随身携带且≤100Wh；请遵循现场安检与船公司政策。</p>
          <h3>严禁携带</h3>
          <ul>
            <li><strong>武器类</strong>：各类枪支（含仿制、气枪、弹丸枪）、弓弩、刀具（含多功能军刀）、棍棒等</li>
            <li><strong>易燃易爆及压缩容器</strong>：烟花爆竹、易燃液体、压缩气体罐、酒精炉等</li>
            <li><strong>加热器具</strong>：电水壶、电磁炉、电热毯、熨斗、卷发棒、电热杯、拖线板/排插等</li>
            <li><strong>酒类与管制物品</strong>：含酒精饮料、违禁药品、催泪喷雾、激光笔等</li>
            <li><strong>遥控/飞行设备</strong>：无人机、平衡车、滑板车等</li>
            <li><strong>其他</strong>：明火设备、自热食品、高浓度酒精喷雾、腐蚀性化学品等</li>
          </ul>
          <h3>慎重携带（可能限制或需申报）</h3>
          <ul>
            <li>大件酒水/箱装饮料（可能寄存，下船返还）</li>
            <li>大量现金/烟草（金额/数量受限，超限需申报）</li>
            <li>高价值器材（建议海关申报）</li>
            <li>药品（自用适量）</li>
          </ul>
        </section>

        <section class="section" id="life">
          <h2>邮轮精彩假期：吃喝玩乐与网络</h2>
          <h3>用餐与消费</h3>
          <ul>
            <li><strong>免费餐厅</strong>：10楼奇迹花园自助；3楼船中波罗的海餐厅；3/4楼船尾宫廷餐厅（套房礼遇）</li>
            <li><strong>船卡</strong>：实名消费与开舱门；遗失请立刻挂失</li>
            <li><strong>充值方式</strong>：建议提前线上绑定信用卡或充值；亦可在船上现金柜台办理</li>
            <li><strong>结算币种</strong>：船上以港币标价并结算，可在自助设备查询账单</li>
          </ul>
          <h3>网络与设施</h3>
          <ul>
            <li><strong>Wi-Fi</strong>：需购买套餐，登录船上“adoramagiccity”门户开通</li>
          </ul>
          <table class="card" style="padding:0;overflow:hidden">
            <thead style="background:linear-gradient(180deg,var(--chip),transparent);border-bottom:1px solid var(--line)">
              <tr style="display:grid;grid-template-columns:1.2fr .8fr .6fr 1.6fr;gap:0;padding:10px 12px;color:var(--brand)">
                <th style="text-align:left">套餐名称</th><th style="text-align:left">流量/设备</th><th style="text-align:left">价格（港币）</th><th style="text-align:left">特点</th>
              </tr>
            </thead>
            <tbody>
              <tr style="display:grid;grid-template-columns:1.2fr .8fr .6fr 1.6fr;gap:0;padding:10px 12px;border-bottom:1px solid var(--line)">
                <td>流量套餐1</td><td>1G / 1G</td><td>227</td><td>基础通信，文字为主</td>
              </tr>
              <tr style="display:grid;grid-template-columns:1.2fr .8fr .6fr 1.6fr;gap:0;padding:10px 12px;border-bottom:1px solid var(--line)">
                <td>流量套餐2</td><td>5G / 5G</td><td>698</td><td>图片社交更从容</td>
              </tr>
              <tr style="display:grid;grid-template-columns:1.2fr .8fr .6fr 1.6fr;gap:0;padding:10px 12px;border-bottom:1px solid var(--line)">
                <td>流量套餐3</td><td>不限量</td><td>1688</td><td>高强度在线，商务合适</td>
              </tr>
              <tr style="display:grid;grid-template-columns:1.2fr .8fr .6fr 1.6fr;gap:0;padding:10px 12px;border-bottom:1px solid var(--line)">
                <td>Social Media（1设备）</td><td>社交类</td><td>388</td><td>社媒不掉线</td>
              </tr>
              <tr style="display:grid;grid-template-columns:1.2fr .8fr .6fr 1.6fr;gap:0;padding:10px 12px">
                <td>Social Media（2设备）</td><td>社交类</td><td>688</td><td>双设备更合算</td>
              </tr>
            </tbody>
          </table>
          <ul>
            <li><strong>舱内空调</strong>：24小时运行，建议备薄外套</li>
            <li><strong>插座</strong>：以国标为主；建议带多口充电器，避免携带排插</li>
            <li><strong>个人用品</strong>：邮轮不提供拖鞋、牙膏、牙刷，请自备</li>
            <li><strong>泳池/按摩池</strong>：无救生员，儿童须家长看护，禁止跳水</li>
          </ul>
        </section>

        <section class="section" id="shore">
          <h2>岸上观光：济州与福冈</h2>
          <p>如参加船方岸上观光，通常团进团出，务必准时集合。以下为参考线路，实际以船上通知为准。</p>
          <h3>济州岛（韩国）</h3>
          <div class="image-container">
            <img src="https://upload.wikimedia.org/wikipedia/commons/e/e0/Jeju_island_seongsan.jpg" alt="济州岛风光">
            <div class="image-overlay">济州岛自然景观丰富，时间比中国快1小时</div>
          </div>
          <ul>
            <li><strong>世界汽车&amp;钢琴博物馆</strong>：私人博物馆，老爷车/钢琴展陈，亲子友好</li>
            <li><strong>泰迪熊动物王国</strong>：实物大小泰迪熊主题园，拍照出片</li>
            <li><strong>独立岩</strong>：西归浦海岸奇岩，《大长今》取景地</li>
          </ul>

          <h3>福冈（日本）</h3>
          <div class="image-container">
            <img src="https://pic.want.biz/chating/1754976850752-a37a6f65-image.png" alt="福冈大濠公园">
            <div class="image-overlay">福冈大濠公园，城市中的湖畔花园；日本比中国快1小时</div>
          </div>
          <ul>
            <li><strong>海中道水族馆</strong>：日本鲨鱼种类最全之一，潜水员表演</li>
            <li><strong>大濠公园</strong>：跑步、骑行、划船皆宜，四季花卉</li>
            <li><strong>Lalaport</strong>：综合购物中心，含KidZania与玩具美术馆</li>
          </ul>
        </section>

        <section class="section" id="tournament">
          <h2>第二届小棋王邮轮赛：赛事安排</h2>
          <table class="card" style="padding:0;overflow:hidden">
            <thead style="background:linear-gradient(180deg,var(--chip),transparent);border-bottom:1px solid var(--line)">
              <tr style="display:grid;grid-template-columns:.8fr 1fr 1.2fr 1.6fr;gap:0;padding:10px 12px;color:var(--brand)">
                <th style="text-align:left">日期</th><th style="text-align:left">时间</th><th style="text-align:left">地点</th><th style="text-align:left">赛事轮次/组别</th>
              </tr>
            </thead>
            <tbody>
              <tr style="display:grid;grid-template-columns:.8fr 1fr 1.2fr 1.6fr;gap:0;padding:10px 12px;border-bottom:1px solid var(--line)">
                <td>08月23日</td><td>8:00–12:00</td><td>4楼 星灿俱乐部</td><td>1–4轮：2段升3段、3段升4段、4段升5段</td>
              </tr>
              <tr style="display:grid;grid-template-columns:.8fr 1fr 1.2fr 1.6fr;gap:0;padding:10px 12px;border-bottom:1px solid var(--line)">
                <td>08月23日</td><td>8:00–12:00</td><td>4楼 行政会议中心</td><td>1–4轮：公开组升6段</td>
              </tr>
              <tr style="display:grid;grid-template-columns:.8fr 1fr 1.2fr 1.6fr;gap:0;padding:10px 12px;border-bottom:1px solid var(--line)">
                <td>08月24日</td><td>8:00–11:00</td><td>4楼 星灿俱乐部</td><td>1–4轮：1段升2段、各级位组</td>
              </tr>
              <tr style="display:grid;grid-template-columns:.8fr 1fr 1.2fr 1.6fr;gap:0;padding:10px 12px;border-bottom:1px solid var(--line)">
                <td>08月25日</td><td>8:00–10:00</td><td>4–5楼 大都会剧院</td><td>全体人员</td>
              </tr>
              <tr style="display:grid;grid-template-columns:.8fr 1fr 1.2fr 1.6fr;gap:0;padding:10px 12px;border-bottom:1px solid var(--line)">
                <td>08月25日</td><td>12:30–16:30</td><td>4楼 星灿俱乐部</td><td>5–7轮：1–5段与各级位组</td>
              </tr>
              <tr style="display:grid;grid-template-columns:.8fr 1fr 1.2fr 1.6fr;gap:0;padding:10px 12px">
                <td>08月25日</td><td>13:00–17:00</td><td>4楼 行政会议中心</td><td>5–7轮：公开组升6段</td>
              </tr>
            </tbody>
          </table>
          <p class="notes">请妥善保存领队联系方式，按时参赛；出境团队不得擅自离团。</p>
        </section>

        <section class="section" id="disembark">
          <h2>离船准备：旅程完美收官</h2>
          <p>离船前一晚通常会发放行李牌，请按指引贴好并放置于舱门外；护照、船票、贵重物品一律随身携带。</p>
          <h3>离船注意事项</h3>
          <ul>
            <li>提前规划离船后交通与行程</li>
            <li>船票竖对折夹入护照，露出通关码，便于边检快速核验</li>
            <li>账单结算：已绑定支付方式的储值余额将原路退回；亦可在自助机/现金窗口结账</li>
          </ul>
          <div class="image-container">
            <img src="https://upload.wikimedia.org/wikipedia/commons/b/b3/Sample_Passport.jpg" alt="护照与船票示意图">
            <div class="image-overlay">将船票对折夹入护照，露出通关码，过检更高效</div>
          </div>
        </section>
      </div>

      <aside class="side-card">
        <section class="card">
          <h2 style="margin-top:0">登船流程一览</h2>
          <ol>
            <li>抵达码头：P3区域交运行李（护照/船票务必随身）</li>
            <li>领取登船号码贴并过安检</li>
            <li>候船区叫号 → 办理登船与拍照</li>
            <li>海关/边检通关</li>
            <li>船口复核 → 登船</li>
            <li>前往客房领取船卡，等待行李送达</li>
          </ol>
          <div class="image-container">
            <img src="https://upload.wikimedia.org/wikipedia/commons/b/b3/Shanghai_Wusongkou_International_Cruise_Terminal.jpg" alt="上海吴淞口国际邮轮港">
            <div class="image-overlay">上海吴淞口国际邮轮港（宝杨路1号）</div>
          </div>
        </section>

        <section class="card">
          <h2 style="margin-top:0">清单进度</h2>
          <div class="stat"><span>已勾选</span><strong id="statChecked">0</strong></div>
          <div class="stat"><span>总项目</span><strong id="statTotal">0</strong></div>
          <div class="stat"><span>随身/托运/儿童</span><strong id="statTags">0/0/0</strong></div>
        </section>
      </aside>
    </div>

    <footer>
      祝旅途顺利，玩得开心！如需“每人一页”的极简勾选版，请告诉我舱型与人数，我可为你定制导出。
    </footer>
  </main>

  <!-- 浮动操作 -->
  <div class="fab no-print">
    <button class="btn brand icon" id="toTop" title="回到顶部">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 5l7 7-1.4 1.4L13 9.8V20h-2V9.8L6.4 13.4 5 12l7-7z"></path></svg>
      顶部
    </button>
  </div>

  <script>
    // 数据定义
    const DATA = [
      {
        title: "证件与资金",
        items: [
          { name:"护照原件", tags:["随身"], notes:"有效期≥6个月" },
          { name:"护照夹", tags:["随身"], notes:"收纳证件与船卡" },
          { name:"护照复印件/电子备份", tags:["随身","可选"], notes:"与原件分开放" },
          { name:"签证/登船资料/保险保单（打印）", tags:["随身"] },
          { name:"信用卡（Visa/Master/银联）", tags:["随身"] },
          { name:"现金：人民币、日币、韩币", tags:["随身"] },
          { name:"硬币零钱包（日元/韩元）", tags:["随身","可选"] },
          { name:"交通卡或手机交通卡（Suica/PASMO、T-money）", tags:["随身","可选"] },
          { name:"紧急联系人清单（中/英/日/韩）", tags:["随身","可选"] },
          { name:"行李牌", tags:["托运","随身"], notes:"写明姓名/舱号/电话" },
        ]
      },
      {
        title: "通讯与App",
        items: [
          { name:"手机与充电线", tags:["随身"] },
          { name:"eSIM/国际漫游/WiFi蛋（三选一）", tags:["随身"], notes:"船上WiFi需另购" },
          { name:"出境/海关类App", tags:["随身"], notes:"便于通行" },
          { name:"船公司信息宝/官方App", tags:["随身","可选"], notes:"预约/查看日程" },
          { name:"离线地图与翻译（Google/Papago/高德）", tags:["随身","可选"] },
          { name:"重要文件离线PDF/相册备份", tags:["随身","可选"] },
        ]
      },
      {
        title: "健康与医药",
        items: [
          { name:"常用药物", tags:["随身"], notes:"感冒、腹泻、创可贴等" },
          { name:"晕船药/晕船贴、姜糖", tags:["随身"], notes:"易晕船者必备" },
          { name:"退烧/止痛药、抗过敏药", tags:["随身","可选"] },
          { name:"肠胃药/止泻药", tags:["随身","可选"] },
          { name:"碘伏棉棒、创可贴", tags:["随身","可选"] },
          { name:"体温计", tags:["随身","可选"] },
          { name:"防晒霜 SPF50+ PA++++", tags:["随身"], notes:"甲板活动必备" },
          { name:"晒后修复/芦荟胶", tags:["托运","可选"] },
          { name:"免洗洗手液", tags:["随身"] },
          { name:"一次性口罩", tags:["随身","可选"] },
          { name:"眼药水/鼻腔喷雾", tags:["随身","可选"] },
        ]
      },
      {
        title: "个人清洁与洗漱",
        items: [
          { name:"牙刷牙膏", tags:["随身"], notes:"船上不提供" },
          { name:"牙刷便携杯", tags:["随身","可选"] },
          { name:"儿童沐浴露/洗发", tags:["托运","儿童"] },
          { name:"一次性内裤", tags:["随身","可选"] },
          { name:"一次性浴巾（可选）", tags:["托运","可选"], notes:"一般房内有浴巾" },
          { name:"一次性马桶套/消毒剂", tags:["随身","可选"] },
          { name:"棉柔巾/湿巾/餐巾纸", tags:["随身"] },
          { name:"折叠水壶/水杯", tags:["随身","可选"] },
          { name:"便携式雨衣", tags:["随身"], notes:"岸上/甲板备用" },
        ]
      },
      {
        title: "穿搭与活动",
        items: [
          { name:"泳衣/泳帽/泳镜", tags:["随身","可选"], notes:"船上有泳池" },
          { name:"折叠拖鞋", tags:["随身"], notes:"房内/泳池使用" },
          { name:"正装/主题之夜服饰", tags:["托运","可选"] },
          { name:"舒适步行鞋＋替换袜", tags:["随身"], notes:"岸上必备" },
          { name:"甲板防风外套/披肩", tags:["随身"], notes:"海风较大" },
          { name:"太阳帽/墨镜", tags:["随身"] },
          { name:"防水手机袋", tags:["随身","可选"] },
        ]
      },
      {
        title: "电子设备与充电",
        items: [
          { name:"iPad/笔记本电脑", tags:["随身","可选"] },
          { name:"手机/相机/手表", tags:["随身"] },
          { name:"充电宝（≤100Wh，仅随身）", tags:["随身"], notes:"严禁托运" },
          { name:"多口充电器", tags:["随身"] },
          { name:"万能转换插头", tags:["随身","可选"], notes:"以国标为主，带上更稳妥" },
          { name:"转接头/转接线（USB-C/HDMI等）", tags:["随身","可选"] },
          { name:"数据线（USB-C/Lightning等）", tags:["随身"] },
        ]
      },
      {
        title: "船舱收纳与小工具",
        items: [
          { name:"旅行箱套、压缩带", tags:["托运","可选"] },
          { name:"折叠晒衣架/衣夹", tags:["托运"] },
          { name:"密封袋/分装瓶", tags:["托运","可选"], notes:"装洗漱/湿衣物" },
          { name:"旅行洗衣液（小袋装）", tags:["托运","可选"] },
          { name:"磁吸挂钩/磁性夹", tags:["托运","可选"], notes:"舱壁多为金属" },
          { name:"小夜灯/迷你手电", tags:["随身","可选"] },
          { name:"行李电子秤", tags:["随身","可选"] },
          { name:"透明胶带", tags:["托运","可选"] },
          { name:"笔/纸", tags:["随身"] },
          { name:"一次性折叠盆", tags:["托运","可选"] },
        ]
      },
      {
        title: "岸上观光专用",
        items: [
          { name:"防盗胸包/腰包", tags:["随身","可选"] },
          { name:"折叠购物袋", tags:["随身"] },
          { name:"垃圾袋（装湿衣物/垃圾）", tags:["随身","可选"] },
          { name:"护照/船卡挂绳", tags:["随身","可选"] },
          { name:"小额现金与硬币（日/韩）", tags:["随身"] },
        ]
      },
      {
        title: "儿童物品（如同行）",
        items: [
          { name:"防走失手环", tags:["儿童","随身","可选"] },
          { name:"一次性围兜", tags:["儿童","随身","可选"] },
          { name:"备用衣裤/纸尿裤/湿巾", tags:["儿童","随身"] },
          { name:"儿童退烧药/退热贴", tags:["儿童","随身"] },
          { name:"耳温枪/小体温计", tags:["儿童","随身","可选"] },
          { name:"浮具（臂圈/泳圈，视规定）", tags:["儿童","托运","可选"] },
          { name:"小零食/玩具/绘本", tags:["儿童","随身","可选"] },
        ]
      }
    ];

    // 时间轴定义（相对报到开始时间 S；以及相对开航）
    const TL = [
      { label:"S−24小時 至 S−2小時：证件核验、关注天气、行李贴牌", start:-24*60, end:-120 },
      { label:"S−2小時 至 S−1小時：出发去港口，整理随身必需品", start:-120, end:-60 },
      { label:"S−60分：抵达港口外场，托运大件/仅小件则直奔安检", start:-60, notes:"护照、船票、贵重品务必随身" },
      { label:"S−50分：大厅排队，证件核验，拍照/领船卡", start:-50 },
      { label:"S−30分：安检与边检，遵循禁限带要求", start:-30, notes:"排插、电热水壶、刀具、自热食品、高浓度酒精喷雾等禁止" },
      { label:"S：开始登船，分流前往楼梯/电梯", start:0 },
      { label:"S＋15分：餐厅/公共区休息，等待舱房开放", start:15 },
      { label:"S＋60–120分：舱房开放，托运行李陆续送达", start:60, end:120, notes:"越早托运越早送达（以现场为准）" },
      { label:"开航前 60–120 分：安全演习/集合（强制）", startRelative:"departure", relativeOffset:-120, endRelative:"departure", endRelativeOffset:-60, notes:"按卡面集合点准时参加" },
      { label:"开航：甲板拍照/观礼", startRelative:"departure", relativeOffset:0 },
      { label:"开航后 30–60 分：确认预约、网络与次日行程", startRelative:"departure", relativeOffset:30, endRelative:"departure", endRelativeOffset:60 },
    ];

    // DOM
    const sectionsEl = document.getElementById('sections');
    const searchEl   = document.getElementById('search');
    const filterEl   = document.getElementById('filter');
    const progText   = document.getElementById('progText');
    const barFill    = document.getElementById('barFill');
    const clearAllBtn= document.getElementById('clearAll');
    const printBtn   = document.getElementById('printBtn');
    const saveToggle = document.getElementById('saveToggle');
    const themeToggle= document.getElementById('themeToggle');
    const themeIcon  = document.getElementById('themeIcon');
    const dateInput  = document.getElementById('dateInput');
    const timeInput  = document.getElementById('timeInput');
    const applyTimeBtn = document.getElementById('applyTime');
    const timelineEl = document.getElementById('timelineList');
    const toTopBtn   = document.getElementById('toTop');

    const statChecked= document.getElementById('statChecked');
    const statTotal  = document.getElementById('statTotal');
    const statTags   = document.getElementById('statTags');

    const chipRow = document.querySelector('.chip-row');

    // 状态
    const DEPARTURE_HOUR = 15; // 15:00
    const DEPARTURE_MINUTE = 0;
    let autosave = true;
    let state = loadState();

    // 渲染清单
    function renderSections(){
      sectionsEl.innerHTML = '';
      let totalCount = 0, carry = 0, checkin = 0, child = 0;

      DATA.forEach((sec, si)=>{
        const card = document.createElement('section');
        card.className = 'card';
        card.dataset.sectionIndex = si;

        const title = document.createElement('h3');
        title.textContent = sec.title;
        title.style.marginTop = '0';
        card.appendChild(title);

        const tools = document.createElement('div');
        tools.className = 'tools';
        tools.innerHTML = `
          <button class="btn" data-action="checkSec">全选本类</button>
          <button class="btn" data-action="uncheckSec">清空本类</button>
        `;
        card.appendChild(tools);

        const list = document.createElement('div');
        list.className = 'list';

        sec.items.forEach((it, ii)=>{
          totalCount += 1;
          if((it.tags||[]).includes('随身')) carry += 1;
          if((it.tags||[]).includes('托运')) checkin += 1;
          if((it.tags||[]).includes('儿童')) child += 1;

          const id = `i-${si}-${ii}`;
          const label = document.createElement('label');
          label.className = 'item';
          label.dataset.tags = (it.tags||[]).join(',');

          const cb = document.createElement('input');
          cb.type = 'checkbox';
          cb.id = id;
          cb.checked = !!state[id];
          cb.addEventListener('change', ()=>{ if(autosave) saveState(); updateProgress(); });
          label.appendChild(cb);

          const box = document.createElement('div');
          box.className = 'name';

          const nm = document.createElement('div');
          nm.textContent = it.name;
          nm.style.fontWeight = '600';
          box.appendChild(nm);

          if(it.notes){
            const notes = document.createElement('div');
            notes.className = 'notes';
            notes.textContent = it.notes;
            box.appendChild(notes);
          }

          const chips = document.createElement('div');
          chips.className = 'chips';
          (it.tags||[]).forEach(t=>{
            const span = document.createElement('span');
            span.className = 'tag ' + (t==='随身'?'s':t==='托运'?'t':t==='儿童'?'child':'opt');
            span.textContent = t;
            chips.appendChild(span);
          });
          box.appendChild(chips);

          label.appendChild(box);
          list.appendChild(label);
        });

        card.appendChild(list);

        const foot = document.createElement('div');
        foot.className = 'notes';
        foot.textContent = '提示：标记“随身”为随身优先；“托运”为适合托运；“儿童”为带娃家庭补充项。';
        card.appendChild(foot);

        sectionsEl.appendChild(card);
      });

      statTotal.textContent = totalCount;
      statTags.textContent  = `${carry}/${checkin}/${child}`;
      updateProgress();
    }

    function updateProgress(){
      const boxes = sectionsEl.querySelectorAll('input[type="checkbox"]');
      const total = boxes.length;
      const checked = Array.from(boxes).filter(b=>b.checked).length;
      progText.textContent = `${checked} / ${total}`;
      statChecked.textContent = checked;
      const pct = total ? Math.round(checked/total*100) : 0;
      barFill.style.width = pct + '%';
      barFill.title = pct + '%';
    }

    function saveState(){
      const boxes = sectionsEl.querySelectorAll('input[type="checkbox"]');
      const s = {};
      boxes.forEach(b=> s[b.id]=b.checked);
      localStorage.setItem('cruiseChecklist-v2', JSON.stringify(s));
    }
    function loadState(){
      try{
        return JSON.parse(localStorage.getItem('cruiseChecklist-v2')||'{}');
      }catch(e){ return {}; }
    }

    function clearAll(){
      const boxes = sectionsEl.querySelectorAll('input[type="checkbox"]');
      boxes.forEach(b=> b.checked=false);
      if(autosave) saveState();
      updateProgress();
    }

    // 搜索与筛选
    function applyFilter(){
      const q = (searchEl.value||'').trim().toLowerCase();
      const mode = filterEl.value;
      const items = sectionsEl.querySelectorAll('.item');
      items.forEach(it=>{
        const text = it.querySelector('.name').innerText.toLowerCase();
        const tags = (it.dataset.tags||'').split(',').filter(Boolean);
        let ok = !q || text.includes(q);
        if(ok){
          if(mode==='carry') ok = tags.includes('随身');
          else if(mode==='checkin') ok = tags.includes('托运');
          else if(mode==='child') ok = tags.includes('儿童');
          else if(mode==='optional') ok = tags.includes('可选');
        }
        it.style.display = ok? 'flex':'none';
      });
    }

    // 分类按钮委托
    sectionsEl.addEventListener('click', (e)=>{
      const btn = e.target.closest('button[data-action]');
      if(!btn) return;
      const card = e.target.closest('.card');
      const action = btn.dataset.action;
      const boxes = card.querySelectorAll('input[type="checkbox"]');
      if(action==='checkSec') boxes.forEach(b=> b.checked=true);
      if(action==='uncheckSec') boxes.forEach(b=> b.checked=false);
      if(autosave) saveState();
      updateProgress();
    });

    // 芯片筛选同步下拉
    chipRow.addEventListener('click', (e)=>{
      const chip = e.target.closest('.chip');
      if(!chip) return;
      chipRow.querySelectorAll('.chip').forEach(c=> c.classList.remove('active'));
      chip.classList.add('active');

      const map = { all:'all', carry:'carry', checkin:'checkin', child:'child', optional:'optional' };
      const v = chip.dataset.filter;
      filterEl.value = map[v] || 'all';
      applyFilter();
    });

    // 时间轴渲染
    function renderTimeline(){
      const dStr = dateInput.value;
      const tStr = timeInput.value;
      timelineEl.innerHTML = '';

      const valid = dStr && tStr;
      const reportStartTime = valid ? new Date(`${dStr}T${tStr}:00`) : null;
      const departureTime   = valid ? new Date(`${dStr}T${String(DEPARTURE_HOUR).padStart(2,'0')}:${String(DEPARTURE_MINUTE).padStart(2,'0')}:00`) : null;

      const fmt = (date)=> {
        if (!date) return '时间未定';
        const m = (n)=> (n<10?'0':'')+n;
        return `${m(date.getMonth()+1)}-${m(date.getDate())} ${m(date.getHours())}:${m(date.getMinutes())}`;
      };

      TL.forEach(entry=>{
        const div = document.createElement('div');
        div.className = 'tl-item';

        const top = document.createElement('div');
        top.className = 'tl-row';

        const timeEl = document.createElement('div');
        timeEl.className = 'tl-time';

        let timeText = '';
        if (valid){
          const baseS = reportStartTime;
          const baseD = departureTime;

          if (entry.startRelative === "departure" || entry.endRelative === "departure"){
            const t1 = entry.relativeOffset !== undefined ? new Date(baseD.getTime() + entry.relativeOffset*60000) : null;
            const t2 = entry.endRelativeOffset !== undefined ? new Date(baseD.getTime() + entry.endRelativeOffset*60000) : null;
            timeText = t1 && t2 ? `${fmt(t1)} 至 ${fmt(t2)}` : (t1 ? fmt(t1) : fmt(baseD));
          } else if (entry.start !== undefined && entry.end !== undefined){
            const t1 = new Date(baseS.getTime() + entry.start*60000);
            const t2 = new Date(baseS.getTime() + entry.end*60000);
            timeText = `${fmt(t1)} 至 ${fmt(t2)}`;
          } else if (entry.start !== undefined){
            const t1 = new Date(baseS.getTime() + entry.start*60000);
            timeText = fmt(t1);
          } else {
            timeText = entry.label.split('：')[0];
          }
        } else {
          timeText = entry.label.split('：')[0];
        }
        timeEl.textContent = timeText;

        const labelEl = document.createElement('div');
        labelEl.textContent = entry.label.replace(/^.*?：/,'');
        top.appendChild(timeEl);
        top.appendChild(labelEl);

        const meta = document.createElement('div');
        meta.className = 'tl-meta';
        if (entry.notes) meta.textContent = entry.notes;

        div.appendChild(top);
        if (meta.textContent) div.appendChild(meta);
        timelineEl.appendChild(div);
      });
    }

    // 事件绑定
    searchEl.addEventListener('input', applyFilter);
    filterEl.addEventListener('change', applyFilter);
    clearAllBtn.addEventListener('click', ()=>{ if(confirm('清空所有勾选？')){ clearAll(); }});
    printBtn.addEventListener('click', ()=> window.print());
    saveToggle.addEventListener('click', ()=>{
      autosave = !autosave;
      saveToggle.textContent = autosave? '已开启自动保存' : '未开启自动保存';
      saveToggle.classList.toggle('warn', !autosave);
      if(autosave) saveState();
    });
    applyTimeBtn.addEventListener('click', renderTimeline);
    toTopBtn.addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'}));

    // 明暗主题切换（本地保存）
    function applyTheme(t){
      document.body.setAttribute('data-theme', t);
      if (t === 'dark'){
        themeIcon.innerHTML = '<path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79Z"/>';
      } else {
        themeIcon.innerHTML = '<path d="M6.76 4.84l-1.8-1.79L3.17 4.84l1.79 1.79 1.8-1.79ZM1 13h3v-2H1v2Zm10 10h2v-3h-2v3Zm7.24-18.16l1.79-1.79-1.79-1.79-1.79 1.79 1.79 1.79ZM20 13h3v-2h-3v2ZM6.76 19.16l-1.8 1.79 1.8 1.79 1.79-1.79-1.79-1.79ZM11 1h2V-2h-2V1Zm7.24 18.16 1.79 1.79 1.79-1.79-1.79-1.79-1.79 1.79ZM12 6a6 6 0 1 0 0 12A6 6 0 0 0 12 6Z"/>';
      }
    }
    let theme = localStorage.getItem('cruiseTheme') || 'dark';
    applyTheme(theme);
    themeToggle.addEventListener('click', ()=>{
      theme = theme==='dark' ? 'light' : 'dark';
      localStorage.setItem('cruiseTheme', theme);
      applyTheme(theme);
    });

    // 首次渲染
    renderSections();
    applyFilter();
    renderTimeline();

    // 统计标签数量（首次）
    (function updateTagStatsOnce(){
      const allItems = DATA.flatMap(d=>d.items);
      const carry = allItems.filter(i=> (i.tags||[]).includes('随身')).length;
      const checkin = allItems.filter(i=> (i.tags||[]).includes('托运')).length;
      const child = allItems.filter(i=> (i.tags||[]).includes('儿童')).length;
      statTags.textContent = `${carry}/${checkin}/${child}`;
    })();
  </script>


</body></html>